'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = _DefaultDict;

var _error = require('../../error');

var _mapping = require('../../mapping');

function _DefaultDict(Dict, Map) {

	var DefaultDict = function DefaultDict(default_factory, mapping) {

		this.container = new Map(mapping);

		this.default_factory = default_factory;
	};

	DefaultDict.fromkeys = function (seq) {
		var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
		var default_factory = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;


		return new DefaultDict(default_factory, _mapping.Mapping.fromkeys(seq, value));
	};

	DefaultDict.prototype = new Dict();

	DefaultDict.prototype.__missing__ = function (key) {

		if (this.default_factory === null) throw new _error.KeyError(key);

		return this.default_factory();
	};

	return DefaultDict;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kaWN0L2RlZmF1bHRkaWN0L19EZWZhdWx0RGljdC5qcyJdLCJuYW1lcyI6WyJfRGVmYXVsdERpY3QiLCJEaWN0IiwiTWFwIiwiRGVmYXVsdERpY3QiLCJkZWZhdWx0X2ZhY3RvcnkiLCJtYXBwaW5nIiwiY29udGFpbmVyIiwiZnJvbWtleXMiLCJzZXEiLCJ2YWx1ZSIsInByb3RvdHlwZSIsIl9fbWlzc2luZ19fIiwia2V5Il0sIm1hcHBpbmdzIjoiOzs7OztrQkFHd0JBLFk7O0FBSHhCOztBQUNBOztBQUVlLFNBQVNBLFlBQVQsQ0FBd0JDLElBQXhCLEVBQStCQyxHQUEvQixFQUFxQzs7QUFFbkQsS0FBTUMsY0FBYyxTQUFkQSxXQUFjLENBQVdDLGVBQVgsRUFBOEJDLE9BQTlCLEVBQXlDOztBQUU1RCxPQUFLQyxTQUFMLEdBQWlCLElBQUlKLEdBQUosQ0FBU0csT0FBVCxDQUFqQjs7QUFFQSxPQUFLRCxlQUFMLEdBQXVCQSxlQUF2QjtBQUVBLEVBTkQ7O0FBUUFELGFBQVlJLFFBQVosR0FBdUIsVUFBV0MsR0FBWCxFQUF5RDtBQUFBLE1BQXhDQyxLQUF3Qyx1RUFBaEMsSUFBZ0M7QUFBQSxNQUF6QkwsZUFBeUIsdUVBQVAsSUFBTzs7O0FBRS9FLFNBQU8sSUFBSUQsV0FBSixDQUFpQkMsZUFBakIsRUFBbUMsaUJBQVFHLFFBQVIsQ0FBa0JDLEdBQWxCLEVBQXdCQyxLQUF4QixDQUFuQyxDQUFQO0FBRUEsRUFKRDs7QUFNQU4sYUFBWU8sU0FBWixHQUF3QixJQUFJVCxJQUFKLEVBQXhCOztBQUVBRSxhQUFZTyxTQUFaLENBQXNCQyxXQUF0QixHQUFvQyxVQUFXQyxHQUFYLEVBQWlCOztBQUVwRCxNQUFLLEtBQUtSLGVBQUwsS0FBeUIsSUFBOUIsRUFBcUMsTUFBTSxvQkFBY1EsR0FBZCxDQUFOOztBQUVyQyxTQUFPLEtBQUtSLGVBQUwsRUFBUDtBQUVBLEVBTkQ7O0FBUUEsUUFBT0QsV0FBUDtBQUVBIiwiZmlsZSI6Il9EZWZhdWx0RGljdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtleUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3InIDtcbmltcG9ydCB7IE1hcHBpbmcgfSBmcm9tICcuLi8uLi9tYXBwaW5nJyA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9EZWZhdWx0RGljdCAoIERpY3QgLCBNYXAgKSB7XG5cblx0Y29uc3QgRGVmYXVsdERpY3QgPSBmdW5jdGlvbiAoIGRlZmF1bHRfZmFjdG9yeSAgLCBtYXBwaW5nICApIHtcblxuXHRcdHRoaXMuY29udGFpbmVyID0gbmV3IE1hcCggbWFwcGluZyApIDtcblxuXHRcdHRoaXMuZGVmYXVsdF9mYWN0b3J5ID0gZGVmYXVsdF9mYWN0b3J5IDtcblxuXHR9IDtcblxuXHREZWZhdWx0RGljdC5mcm9ta2V5cyA9IGZ1bmN0aW9uICggc2VxICwgdmFsdWUgPSBudWxsICwgZGVmYXVsdF9mYWN0b3J5ID0gbnVsbCApIHtcblxuXHRcdHJldHVybiBuZXcgRGVmYXVsdERpY3QoIGRlZmF1bHRfZmFjdG9yeSAsIE1hcHBpbmcuZnJvbWtleXMoIHNlcSAsIHZhbHVlICkgKSA7XG5cblx0fSA7XG5cblx0RGVmYXVsdERpY3QucHJvdG90eXBlID0gbmV3IERpY3QoICkgO1xuXG5cdERlZmF1bHREaWN0LnByb3RvdHlwZS5fX21pc3NpbmdfXyA9IGZ1bmN0aW9uICgga2V5ICkge1xuXG5cdFx0aWYgKCB0aGlzLmRlZmF1bHRfZmFjdG9yeSA9PT0gbnVsbCApIHRocm93IG5ldyBLZXlFcnJvcigga2V5ICkgO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGVmYXVsdF9mYWN0b3J5KCApIDtcblxuXHR9IDtcblxuXHRyZXR1cm4gRGVmYXVsdERpY3QgO1xuXG59XG4iXX0=