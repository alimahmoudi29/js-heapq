'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = _DefaultDict;

var _error = require('../../error');

var _mapping = require('../../mapping');

var _mapping2 = _interopRequireDefault(_mapping);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _DefaultDict(Dict, Map) {

	var DefaultDict = function DefaultDict(default_factory, mapping) {

		this.container = new Map(mapping);

		this.default_factory = default_factory;
	};

	DefaultDict.fromkeys = function (seq) {
		var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
		var default_factory = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;


		return new DefaultDict(default_factory, _mapping2.default.fromkeys(seq, value));
	};

	DefaultDict.prototype = new Dict();

	DefaultDict.prototype.__missing__ = function (key) {

		if (this.default_factory === null) throw new _error.KeyError(key);

		return this.default_factory();
	};

	return DefaultDict;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kaWN0L2RlZmF1bHRkaWN0L19EZWZhdWx0RGljdC5qcyJdLCJuYW1lcyI6WyJfRGVmYXVsdERpY3QiLCJEaWN0IiwiTWFwIiwiRGVmYXVsdERpY3QiLCJkZWZhdWx0X2ZhY3RvcnkiLCJtYXBwaW5nIiwiY29udGFpbmVyIiwiZnJvbWtleXMiLCJzZXEiLCJ2YWx1ZSIsInByb3RvdHlwZSIsIl9fbWlzc2luZ19fIiwia2V5Il0sIm1hcHBpbmdzIjoiOzs7OztrQkFHd0JBLFk7O0FBSHhCOztBQUNBOzs7Ozs7QUFFZSxTQUFTQSxZQUFULENBQXdCQyxJQUF4QixFQUErQkMsR0FBL0IsRUFBcUM7O0FBRW5ELEtBQU1DLGNBQWMsU0FBZEEsV0FBYyxDQUFXQyxlQUFYLEVBQThCQyxPQUE5QixFQUF5Qzs7QUFFNUQsT0FBS0MsU0FBTCxHQUFpQixJQUFJSixHQUFKLENBQVNHLE9BQVQsQ0FBakI7O0FBRUEsT0FBS0QsZUFBTCxHQUF1QkEsZUFBdkI7QUFFQSxFQU5EOztBQVFBRCxhQUFZSSxRQUFaLEdBQXVCLFVBQVdDLEdBQVgsRUFBeUQ7QUFBQSxNQUF4Q0MsS0FBd0MsdUVBQWhDLElBQWdDO0FBQUEsTUFBekJMLGVBQXlCLHVFQUFQLElBQU87OztBQUUvRSxTQUFPLElBQUlELFdBQUosQ0FBaUJDLGVBQWpCLEVBQW1DLGtCQUFRRyxRQUFSLENBQWtCQyxHQUFsQixFQUF3QkMsS0FBeEIsQ0FBbkMsQ0FBUDtBQUVBLEVBSkQ7O0FBTUFOLGFBQVlPLFNBQVosR0FBd0IsSUFBSVQsSUFBSixFQUF4Qjs7QUFFQUUsYUFBWU8sU0FBWixDQUFzQkMsV0FBdEIsR0FBb0MsVUFBV0MsR0FBWCxFQUFpQjs7QUFFcEQsTUFBSyxLQUFLUixlQUFMLEtBQXlCLElBQTlCLEVBQXFDLE1BQU0sb0JBQWNRLEdBQWQsQ0FBTjs7QUFFckMsU0FBTyxLQUFLUixlQUFMLEVBQVA7QUFFQSxFQU5EOztBQVFBLFFBQU9ELFdBQVA7QUFFQSIsImZpbGUiOiJfRGVmYXVsdERpY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBLZXlFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yJyA7XG5pbXBvcnQgTWFwcGluZyBmcm9tICcuLi8uLi9tYXBwaW5nJyA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9EZWZhdWx0RGljdCAoIERpY3QgLCBNYXAgKSB7XG5cblx0Y29uc3QgRGVmYXVsdERpY3QgPSBmdW5jdGlvbiAoIGRlZmF1bHRfZmFjdG9yeSAgLCBtYXBwaW5nICApIHtcblxuXHRcdHRoaXMuY29udGFpbmVyID0gbmV3IE1hcCggbWFwcGluZyApIDtcblxuXHRcdHRoaXMuZGVmYXVsdF9mYWN0b3J5ID0gZGVmYXVsdF9mYWN0b3J5IDtcblxuXHR9IDtcblxuXHREZWZhdWx0RGljdC5mcm9ta2V5cyA9IGZ1bmN0aW9uICggc2VxICwgdmFsdWUgPSBudWxsICwgZGVmYXVsdF9mYWN0b3J5ID0gbnVsbCApIHtcblxuXHRcdHJldHVybiBuZXcgRGVmYXVsdERpY3QoIGRlZmF1bHRfZmFjdG9yeSAsIE1hcHBpbmcuZnJvbWtleXMoIHNlcSAsIHZhbHVlICkgKSA7XG5cblx0fSA7XG5cblx0RGVmYXVsdERpY3QucHJvdG90eXBlID0gbmV3IERpY3QoICkgO1xuXG5cdERlZmF1bHREaWN0LnByb3RvdHlwZS5fX21pc3NpbmdfXyA9IGZ1bmN0aW9uICgga2V5ICkge1xuXG5cdFx0aWYgKCB0aGlzLmRlZmF1bHRfZmFjdG9yeSA9PT0gbnVsbCApIHRocm93IG5ldyBLZXlFcnJvcigga2V5ICkgO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGVmYXVsdF9mYWN0b3J5KCApIDtcblxuXHR9IDtcblxuXHRyZXR1cm4gRGVmYXVsdERpY3QgO1xuXG59XG4iXX0=