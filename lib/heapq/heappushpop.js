'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = heappushpop;

var _core = require('./core');

function heappushpop(heap, item) {

	var x = heap.data;
	var n = x.length;

	if (n === 0) return item;

	var compare = heap.compare;

	if (compare(item, x[0]) <= 0) return item;

	var smallest = x[0];

	x[0] = item;

	// sift down the new root

	(0, _core.siftdown)(compare, x, 0, n, 0);

	return smallest;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWFwcS9oZWFwcHVzaHBvcC5qcyJdLCJuYW1lcyI6WyJoZWFwcHVzaHBvcCIsImhlYXAiLCJpdGVtIiwieCIsImRhdGEiLCJuIiwibGVuZ3RoIiwiY29tcGFyZSIsInNtYWxsZXN0Il0sIm1hcHBpbmdzIjoiOzs7OztrQkFFd0JBLFc7O0FBRnhCOztBQUVlLFNBQVNBLFdBQVQsQ0FBdUJDLElBQXZCLEVBQThCQyxJQUE5QixFQUFxQzs7QUFFbkQsS0FBTUMsSUFBSUYsS0FBS0csSUFBZjtBQUNBLEtBQU1DLElBQUlGLEVBQUVHLE1BQVo7O0FBRUEsS0FBS0QsTUFBTSxDQUFYLEVBQWUsT0FBT0gsSUFBUDs7QUFFZixLQUFNSyxVQUFVTixLQUFLTSxPQUFyQjs7QUFFQSxLQUFLQSxRQUFTTCxJQUFULEVBQWdCQyxFQUFFLENBQUYsQ0FBaEIsS0FBMEIsQ0FBL0IsRUFBbUMsT0FBT0QsSUFBUDs7QUFFbkMsS0FBTU0sV0FBV0wsRUFBRSxDQUFGLENBQWpCOztBQUVBQSxHQUFFLENBQUYsSUFBT0QsSUFBUDs7QUFFQTs7QUFFQSxxQkFBVUssT0FBVixFQUFvQkosQ0FBcEIsRUFBd0IsQ0FBeEIsRUFBNEJFLENBQTVCLEVBQWdDLENBQWhDOztBQUVBLFFBQU9HLFFBQVA7QUFFQSIsImZpbGUiOiJoZWFwcHVzaHBvcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNpZnRkb3duIH0gZnJvbSAnLi9jb3JlJyA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhlYXBwdXNocG9wICggaGVhcCAsIGl0ZW0gKSB7XG5cblx0Y29uc3QgeCA9IGhlYXAuZGF0YSA7XG5cdGNvbnN0IG4gPSB4Lmxlbmd0aCA7XG5cblx0aWYgKCBuID09PSAwICkgcmV0dXJuIGl0ZW0gO1xuXG5cdGNvbnN0IGNvbXBhcmUgPSBoZWFwLmNvbXBhcmUgO1xuXG5cdGlmICggY29tcGFyZSggaXRlbSAsIHhbMF0gKSA8PSAwICkgcmV0dXJuIGl0ZW0gO1xuXG5cdGNvbnN0IHNtYWxsZXN0ID0geFswXSA7XG5cblx0eFswXSA9IGl0ZW0gO1xuXG5cdC8vIHNpZnQgZG93biB0aGUgbmV3IHJvb3RcblxuXHRzaWZ0ZG93biggY29tcGFyZSAsIHggLCAwICwgbiAsIDAgKSA7XG5cblx0cmV0dXJuIHNtYWxsZXN0IDtcblxufVxuIl19